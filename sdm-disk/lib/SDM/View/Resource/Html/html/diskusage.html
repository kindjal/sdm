<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd"> 
<html>
  <head>
    <meta http-equiv="content-type" content="text/html; charset=utf-8" />
    <!-- Disable browser caching -->
    <meta http-equiv='Pragma' content='no-cache'>
    <!-- Microsoft browsers require this additional meta tag as well -->
    <meta http-equiv='Expires' content='-1'>

    <title>Disk Usage Information</title>
    <style type="text/css" title="currentStyle">
      @import "/res/css/diskusage_page.css";
    </style>
    <link rel="shortcut icon" href="/res/img/gc_favicon.png" />
    <script type="text/javascript" language="javascript" charset="utf-8" src="/res/js/pkg/jQuery/jquery.min.js"></script>
    <script type="text/javascript" language="javascript" charset="utf-8" src="/res/js/app/common.js"></script>
    <script type="text/javascript" language="javascript" charset="utf-8" src="/res/js/app/diskusage.js"></script>
  </head>
  <body id="dt_example">
    <div id="container">
      <h1>Disk Usage Report</h1>

      <p>This table shows disk consumption information as reported by SNMP from NFS servers.</p>

      <div id="narrow"> <div id="total"> </div> </div>

      <h1>Filers Providing Storage Volumes</h1>

      <div class="emphasis" id="narrow">
      Hosts that reported SNMP errors are red.<br/>
      Hosts that reported no Volume data are orange.<br/>
      </div>

      <div id="filer_table">
      <table cellpadding="0" cellspacing="0" border="0" class="display" id="filers">
      <thead>
      <tr>
      <th>Filer</th>
      <th>SNMP Status</th>
      <th>Hosts</th>
      <th>Arrays</th>
      <th>Added</th>
      <th>Last Successful Check</th>
      </tr>
      </thead>
      <tbody>
      <tr>
      <td colspan="6" class="dataTables_empty">Loading data from server</td>
      </tr>
      </tbody>
      <tfoot>
      <tr>
      <th>Filer</th>
      <th>SNMP Status</th>
      <th>Hosts</th>
      <th>Arrays</th>
      <th>Added</th>
      <th>Last Successful Check</th>
      </tr>
      </tfoot>
      </table>
      </div> <!-- end of filer_table div -->

      <div class="clear"></div>

      <h1>Arrays Serving Storage Space</h1>

      <div id="array_table">
      <table cellpadding="0" cellspacing="0" border="0" class="display" id="arrays">
      <thead>
      <tr>
      <th>Array</th>
      <th>Manufacturer</th>
      <th>Model</th>
      <th>Serial</th>
      <th>Disk Type</th>
      <th>Disk Num</th>
      <th>Array Size</th>
      <th>Advertised Array Size</th>
      <th>Created</th>
      <th>Last Modified</th>
      <th>Hostname</th>
      </tr>
      </thead>
      <tbody>
      <tr>
      <td colspan="6" class="dataTables_empty">Loading data from server</td>
      </tr>
      </tbody>
      <tfoot>
      <tr>
      <th>Array</th>
      <th>Manufacturer</th>
      <th>Model</th>
      <th>Serial</th>
      <th>Disk Type</th>
      <th>Disk Num</th>
      <th>Array Size</th>
      <th>Advertised Array Size</th>
      <th>Created</th>
      <th>Last Modified</th>
      <th>Hostname</th>
      </tr>
      </tfoot>
      </table>
      </div> <!-- end of array_table div -->

      <div class="clear"></div>

      <h1>Disk Usage by Disk Group</h1>

      <div class="emphasis" id="narrow">
      Groups over 95% capacity are red, as is the 'unknown' group.<br/>
      </div>

      <div id="group_table">
      <table cellpadding="0" cellspacing="0" border="0" class="display" id="group">
      <thead>
      <tr>
      <th>Disk Group Name</th>
      <th>Total KB</th>
      <th>Used KB</th>
      <th width="1%">Capacity</th>
      </tr>
      </thead>
      <tbody>
      <tr>
      <td colspan="4" class="dataTables_empty">Loading data from server</td>
      </tr>
      </tbody>
      <tfoot>
      <tr>
      <th>Disk Group Name</th>
      <th>Total KB</th>
      <th>Used KB</th>
      <th width="1%">Capacity</th>
      </tr>
      </tfoot>
      </table>
      </div> <!-- end of group_table div -->

      <div class="clear"></div>

      <h1>Disk Usage By Volume</h1>

      <div class="emphasis" id="narrow">
      Volumes over 95% capacity are colored red, as is the 'unkown' group.
      </div>

      <div id="volume_table">
      <table cellpadding="0" cellspacing="0" border="0" class="display" id="volume">
        <thead>
        <tr>
        <th>Mount Path</th>
        <th width="15%">Total KB</th>
        <th width="15%">Used KB</th>
        <th width="2%" align=center>Capacity</th>
        <th>Disk Group</th>
        <th>Filer</th>
        <th>Last Checked</th>
        </tr>
        </thead>
        <tbody>
          <tr>
            <td colspan="7" class="dataTables_empty">Loading data from server</td>
          </tr>
        </tbody>
        <tfoot>
        <tr>
        <th>Mount Path</th>
        <th width="15%">Total KB</th>
        <th width="15%">Used KB</th>
        <th width="2%" align=center>Capacity</th>
        <th>Disk Group</th>
        <th>Filer</th>
        <th>Last Checked</th>
        </tr>
        </tfoot>
      </table>
      </div> <!-- end of volume div -->

      <h1>Frequently Asked Questions</h1>

      <div class="emphasis">
      <p>Q: What's the cumulative disk consumption?<br/>
      A: See the <a href=#total>Totals section</a>.</p>
      <p>Q: How much space is a specific group consuming?<br/>
      A: See the <a href=#group>Disk Usage By Disk Group</a> table below.</p>
      <p>Q: How much space has not yet been assigned to a group?<br/>
      A: See the <a href=#volume>Disk Volumes</a> table, sort by group name and find <b>unknown</b>.</p>
      <p>Q: How much space has not yet been made available?<br/>
      A: That answer is not available from this page. We would have to query storage arrays directly, rather than the filesystems, and this isn't currently possible.</p>
      <p>Q: How does a volume show up in these stats?<br/>
      A: A host running nfsd and snmpd must be present in the configuration file used by the "diskusage" cron job on this host, and the Volumes that it serves must begin with a prefix path coded into disk_usage.pl (currently "/home" and "/vol").</p>
      </div>

    </div> <!-- end of container -->
  </body>
  <head>
    <meta http-equiv='Pragma' content='no-cache'>
  </head>
</html>

